import{r as u,T as N,j as A,d as v,o as _,a as s,b as a,w as r,f as i,F as B,g as j,h as F,u as c,t as y,N as p}from"./app-DE5iW-zt.js";import{_ as b}from"./PrimaryButton-C5A_b8zd.js";import{_ as h}from"./SecondaryButton-a_C0-x8w.js";import{_ as T}from"./InputLabel-CBUKSUPl.js";import{_ as k}from"./TextInput-DjM9czBB.js";import{_ as U}from"./InputError-C58XQGz-.js";import{_ as D}from"./CustomModal-Cflpug2n.js";const I={class:"p-4"},z={class:"flex flex-col md:flex-row justify-between items-center mb-4 space-y-4 md:space-y-0"},H={class:"relative"},L={class:"overflow-x-auto"},O={class:"min-w-full border bg-white rounded-lg shadow-md"},Q={class:"px-4 py-2"},q={class:"px-4 py-2"},G={class:"px-4 py-2 text-center"},J={class:"mb-4"},P={class:"flex justify-end mt-4"},te={__name:"Index",props:{capacities:Array},setup(C){const E=C,m=u(!1),n=u(!1),x=u(null),l=N({value:""}),f=u(""),V=A(()=>E.capacities.filter(t=>t.value.toString().includes(f.value))),g=(t,e=null)=>{n.value=t==="edit",m.value=!0,n.value&&e?(x.value=e.id,l.value=e.value):w()},w=()=>{l.reset()},d=()=>{m.value=!1,w()},$=()=>{n.value?l.put(route("capacity.update",x.value),{onSuccess:()=>{d(),p.reload({only:["capacities"]})},onError:t=>{console.error("Error saat update:",t)}}):l.post(route("capacity.store"),{onSuccess:()=>{d(),p.reload({only:["capacities"]})},onError:t=>{console.error("Error saat tambah:",t)}})},S=t=>{confirm("Apakah Anda yakin ingin menghapus data ini?")&&p.delete(route("capacity.destroy",t),{onSuccess:()=>{p.reload({only:["capacities"]})},onError:e=>{console.error("Error saat hapus:",e)}})};return(t,e)=>(_(),v("div",I,[s("div",z,[a(b,{onClick:e[0]||(e[0]=o=>g("create"))},{default:r(()=>e[3]||(e[3]=[i("Tambah Kapasitas")])),_:1}),s("div",H,[a(k,{modelValue:f.value,"onUpdate:modelValue":e[1]||(e[1]=o=>f.value=o),placeholder:"Cari Kapasitas...",class:"pl-10 pr-4 py-2 border rounded-md w-64"},null,8,["modelValue"]),e[4]||(e[4]=s("svg",{class:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-4.35-4.35m0 0A8.5 8.5 0 1010.5 19a8.5 8.5 0 006.15-2.85z"})],-1))])]),s("div",L,[s("table",O,[e[7]||(e[7]=s("thead",{class:"bg-gray-200"},[s("tr",null,[s("th",{class:"px-4 py-2 text-left"},"No"),s("th",{class:"px-4 py-2 text-left"},"Kapasitas (CC)"),s("th",{class:"px-4 py-2 text-center"},"Aksi")])],-1)),s("tbody",null,[(_(!0),v(B,null,j(V.value,(o,K)=>(_(),v("tr",{key:o.id,class:"border-b hover:bg-gray-100"},[s("td",Q,y(K+1),1),s("td",q,y(o.value),1),s("td",G,[a(h,{onClick:M=>g("edit",o)},{default:r(()=>e[5]||(e[5]=[i("Edit")])),_:2},1032,["onClick"]),a(b,{class:"ml-2 bg-red-600 hover:bg-red-700",onClick:M=>S(o.id)},{default:r(()=>e[6]||(e[6]=[i("Hapus")])),_:2},1032,["onClick"])])]))),128))])])]),a(D,{show:m.value,title:n.value?"Edit Kapasitas":"Tambah Kapasitas",onClose:d},{content:r(()=>[s("form",{onSubmit:F($,["prevent"])},[s("div",J,[a(T,{for:"value",value:"Kapasitas (CC)"}),a(k,{id:"value",modelValue:c(l).value,"onUpdate:modelValue":e[2]||(e[2]=o=>c(l).value=o),modelModifiers:{number:!0},type:"number",class:"block w-full"},null,8,["modelValue"]),a(U,{message:c(l).errors.value},null,8,["message"])]),s("div",P,[a(h,{type:"button",onClick:d},{default:r(()=>e[8]||(e[8]=[i("Batal")])),_:1}),a(b,{class:"ml-3",type:"submit",disabled:c(l).processing},{default:r(()=>[i(y(n.value?"Update":"Simpan"),1)]),_:1},8,["disabled"])])],32)]),_:1},8,["show","title"])]))}};export{te as default};
