import{r as p,T as F,j as L,d as r,o as d,a as s,b as o,w as u,f as m,k as b,x as S,F as k,g as w,h as I,u as a,t as i,v as z,N as H}from"./app-DE5iW-zt.js";import{_ as g}from"./PrimaryButton-C5A_b8zd.js";import{_ as $}from"./SecondaryButton-a_C0-x8w.js";import{_ as h}from"./InputLabel-CBUKSUPl.js";import{_ as C}from"./TextInput-DjM9czBB.js";import{_ as M}from"./InputError-C58XQGz-.js";import{_ as O}from"./CustomModal-Cflpug2n.js";const Q={class:"p-4"},q={class:"flex flex-col md:flex-row justify-between items-center mb-4 space-y-4 md:space-y-0"},G={class:"flex flex-col md:flex-row space-y-4 md:space-y-0 md:space-x-4 w-full md:w-auto"},J=["value"],K={class:"relative"},P={class:"overflow-x-auto"},R={class:"min-w-full border bg-white rounded-lg shadow-md"},W={class:"px-4 py-2"},X={class:"px-4 py-2"},Y={class:"px-4 py-2"},Z={class:"px-4 py-2"},ee={class:"px-4 py-2 text-center"},se={key:0,class:"px-2 py-1 text-green-700 bg-green-200 rounded-full text-sm"},te={key:1,class:"px-2 py-1 text-red-700 bg-red-200 rounded-full text-sm"},le={class:"px-4 py-2 text-center"},oe={class:"mb-4"},ae=["value"],re={class:"mb-4"},de={class:"mb-4"},ne={class:"flex items-center"},ie={class:"flex justify-end mt-4"},ye={__name:"Index",props:{carTypes:Array,carModels:Array},setup(N){const v=N,y=p(!1),c=p(!1),V=p(null),l=F({car_model_id:"",name:"",description:"",is_active:!0}),f=p(""),x=p(""),U=L(()=>v.carTypes.filter(n=>{const e=f.value?n.car_model_id===f.value:!0,t=n.name.toLowerCase().includes(x.value.toLowerCase());return e&&t})),T=(n,e=null)=>{c.value=n==="edit",y.value=!0,c.value&&e?(V.value=e.id,l.car_model_id=e.car_model_id,l.name=e.name,l.description=e.description,l.is_active=!!e.is_active):A()},A=()=>{l.reset()},_=()=>{y.value=!1,A()},B=()=>{c.value?l.put(route("car-type.update",V.value),{onSuccess:()=>_()}):l.post(route("car-type.store"),{onSuccess:()=>_()})},D=n=>{confirm("Apakah Anda yakin ingin menghapus data ini?")&&H.delete(route("car-type.destroy",n))};return(n,e)=>(d(),r("div",Q,[s("div",q,[o(g,{onClick:e[0]||(e[0]=t=>T("create"))},{default:u(()=>e[7]||(e[7]=[m("Tambah Car Type")])),_:1}),s("div",G,[b(s("select",{"onUpdate:modelValue":e[1]||(e[1]=t=>f.value=t),class:"border rounded px-4 py-2 w-full md:w-48"},[e[8]||(e[8]=s("option",{value:""},"Semua Model",-1)),(d(!0),r(k,null,w(v.carModels,t=>(d(),r("option",{key:t.id,value:t.id},i(t.name),9,J))),128))],512),[[S,f.value]]),s("div",K,[o(C,{modelValue:x.value,"onUpdate:modelValue":e[2]||(e[2]=t=>x.value=t),placeholder:"Cari Type Mobil...",class:"w-full md:w-48 pl-10 pr-4 py-2 border"},null,8,["modelValue"]),e[9]||(e[9]=s("svg",{class:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-4.35-4.35m0 0A8.5 8.5 0 1010.5 19a8.5 8.5 0 006.15-2.85z"})],-1))])])]),s("div",P,[s("table",R,[e[12]||(e[12]=s("thead",{class:"bg-gray-200"},[s("tr",null,[s("th",{class:"px-4 py-2 text-left"},"No"),s("th",{class:"px-4 py-2 text-left"},"Model"),s("th",{class:"px-4 py-2 text-left"},"Nama"),s("th",{class:"px-4 py-2 text-left"},"Deskripsi"),s("th",{class:"px-4 py-2 text-center"},"Status"),s("th",{class:"px-4 py-2 text-center"},"Aksi")])],-1)),s("tbody",null,[(d(!0),r(k,null,w(U.value,(t,j)=>(d(),r("tr",{key:t.id,class:"border-b hover:bg-gray-100"},[s("td",W,i(j+1),1),s("td",X,i(t.car_model.name),1),s("td",Y,i(t.name),1),s("td",Z,i(t.description||"-"),1),s("td",ee,[t.is_active?(d(),r("span",se,"Aktif")):(d(),r("span",te,"Tidak Aktif"))]),s("td",le,[o($,{onClick:E=>T("edit",t)},{default:u(()=>e[10]||(e[10]=[m("Edit")])),_:2},1032,["onClick"]),o(g,{class:"ml-2 bg-red-600 hover:bg-red-700",onClick:E=>D(t.id)},{default:u(()=>e[11]||(e[11]=[m("Hapus")])),_:2},1032,["onClick"])])]))),128))])])]),o(O,{show:y.value,title:c.value?"Edit Car Type":"Tambah Car Type",onClose:_},{content:u(()=>[s("form",{onSubmit:I(B,["prevent"])},[s("div",oe,[o(h,{for:"car_model_id",value:"Model"}),b(s("select",{id:"car_model_id","onUpdate:modelValue":e[3]||(e[3]=t=>a(l).car_model_id=t),class:"block w-full border p-2 rounded"},[(d(!0),r(k,null,w(v.carModels,t=>(d(),r("option",{key:t.id,value:t.id},i(t.name),9,ae))),128))],512),[[S,a(l).car_model_id]]),o(M,{message:a(l).errors.car_model_id},null,8,["message"])]),s("div",re,[o(h,{for:"name",value:"Nama Car Type"}),o(C,{id:"name",modelValue:a(l).name,"onUpdate:modelValue":e[4]||(e[4]=t=>a(l).name=t),class:"block w-full"},null,8,["modelValue"]),o(M,{message:a(l).errors.name},null,8,["message"])]),s("div",de,[o(h,{for:"description",value:"Deskripsi"}),o(C,{id:"description",modelValue:a(l).description,"onUpdate:modelValue":e[5]||(e[5]=t=>a(l).description=t),class:"block w-full"},null,8,["modelValue"]),o(M,{message:a(l).errors.description},null,8,["message"])]),s("div",ne,[b(s("input",{type:"checkbox",id:"is_active","onUpdate:modelValue":e[6]||(e[6]=t=>a(l).is_active=t),class:"mr-2"},null,512),[[z,a(l).is_active]]),e[13]||(e[13]=s("label",{for:"is_active"},"Aktif",-1))]),s("div",ie,[o($,{type:"button",onClick:_},{default:u(()=>e[14]||(e[14]=[m("Batal")])),_:1}),o(g,{class:"ml-3",type:"submit"},{default:u(()=>[m(i(c.value?"Update":"Simpan"),1)]),_:1})])],32)]),_:1},8,["show","title"])]))}};export{ye as default};
