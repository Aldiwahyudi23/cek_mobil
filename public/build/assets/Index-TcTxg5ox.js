import{r as u,T as A,j as B,d as y,o as v,a as e,b as o,w as l,f as i,F as M,g as j,h as F,u as m,t as _,N as p}from"./app-DE5iW-zt.js";import{_ as b}from"./PrimaryButton-C5A_b8zd.js";import{_ as h}from"./SecondaryButton-a_C0-x8w.js";import{_ as L}from"./InputLabel-CBUKSUPl.js";import{_ as k}from"./TextInput-DjM9czBB.js";import{_ as U}from"./InputError-C58XQGz-.js";import{_ as D}from"./CustomModal-Cflpug2n.js";const I={class:"p-4"},z={class:"flex flex-col md:flex-row justify-between items-center mb-4 space-y-4 md:space-y-0"},H={class:"relative"},O={class:"overflow-x-auto"},Q={class:"min-w-full border bg-white rounded-lg shadow-md"},q={class:"px-4 py-2"},G={class:"px-4 py-2"},J={class:"px-4 py-2 text-center"},K={class:"mb-4"},P={class:"flex justify-end mt-4"},ts={__name:"Index",props:{transmissions:Array},setup(T){const C=T,c=u(!1),n=u(!1),x=u(null),a=A({type:""}),f=u(""),E=B(()=>C.transmissions.filter(t=>t.type.toLowerCase().includes(f.value.toLowerCase()))),w=(t,s=null)=>{n.value=t==="edit",c.value=!0,n.value&&s?(x.value=s.id,a.type=s.type):g()},g=()=>{a.reset()},d=()=>{c.value=!1,g()},V=()=>{n.value?a.put(route("transmission.update",x.value),{onSuccess:()=>{d(),p.reload({only:["transmissions"]})},onError:t=>{console.error("Error saat update:",t)}}):a.post(route("transmission.store"),{onSuccess:()=>{d(),p.reload({only:["transmissions"]})},onError:t=>{console.error("Error saat tambah:",t)}})},$=t=>{confirm("Apakah Anda yakin ingin menghapus data ini?")&&p.delete(route("transmission.destroy",t),{onSuccess:()=>{p.reload({only:["transmissions"]})},onError:s=>{console.error("Error saat hapus:",s)}})};return(t,s)=>(v(),y("div",I,[e("div",z,[o(b,{onClick:s[0]||(s[0]=r=>w("create"))},{default:l(()=>s[3]||(s[3]=[i("Tambah Transmisi")])),_:1}),e("div",H,[o(k,{modelValue:f.value,"onUpdate:modelValue":s[1]||(s[1]=r=>f.value=r),placeholder:"Cari Transmisi...",class:"pl-10 pr-4 py-2 border rounded-md w-64"},null,8,["modelValue"]),s[4]||(s[4]=e("svg",{class:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-4.35-4.35m0 0A8.5 8.5 0 1010.5 19a8.5 8.5 0 006.15-2.85z"})],-1))])]),e("div",O,[e("table",Q,[s[7]||(s[7]=e("thead",{class:"bg-gray-200"},[e("tr",null,[e("th",{class:"px-4 py-2 text-left"},"No"),e("th",{class:"px-4 py-2 text-left"},"Tipe Transmisi"),e("th",{class:"px-4 py-2 text-center"},"Aksi")])],-1)),e("tbody",null,[(v(!0),y(M,null,j(E.value,(r,N)=>(v(),y("tr",{key:r.id,class:"border-b hover:bg-gray-100"},[e("td",q,_(N+1),1),e("td",G,_(r.type),1),e("td",J,[o(h,{onClick:S=>w("edit",r)},{default:l(()=>s[5]||(s[5]=[i("Edit")])),_:2},1032,["onClick"]),o(b,{class:"ml-2 bg-red-600 hover:bg-red-700",onClick:S=>$(r.id)},{default:l(()=>s[6]||(s[6]=[i("Hapus")])),_:2},1032,["onClick"])])]))),128))])])]),o(D,{show:c.value,title:n.value?"Edit Transmisi":"Tambah Transmisi",onClose:d},{content:l(()=>[e("form",{onSubmit:F(V,["prevent"])},[e("div",K,[o(L,{for:"type",value:"Tipe Transmisi"}),o(k,{id:"type",modelValue:m(a).type,"onUpdate:modelValue":s[2]||(s[2]=r=>m(a).type=r),type:"text",class:"block w-full"},null,8,["modelValue"]),o(U,{message:m(a).errors.type},null,8,["message"])]),e("div",P,[o(h,{type:"button",onClick:d},{default:l(()=>s[8]||(s[8]=[i("Batal")])),_:1}),o(b,{class:"ml-3",type:"submit",disabled:m(a).processing},{default:l(()=>[i(_(n.value?"Update":"Simpan"),1)]),_:1},8,["disabled"])])],32)]),_:1},8,["show","title"])]))}};export{ts as default};
