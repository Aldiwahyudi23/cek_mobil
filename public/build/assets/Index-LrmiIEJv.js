import{r as c,T as D,j as L,d as a,o as d,a as t,b as o,w as i,f as p,k as y,x as V,F as k,g as w,h as I,u as n,t as u,v as z,N as H}from"./app-DE5iW-zt.js";import{_ as g}from"./PrimaryButton-C5A_b8zd.js";import{_ as A}from"./SecondaryButton-a_C0-x8w.js";import{_ as S}from"./InputLabel-CBUKSUPl.js";import{_ as $}from"./TextInput-DjM9czBB.js";import{_ as B}from"./InputError-C58XQGz-.js";import{_ as K}from"./CustomModal-Cflpug2n.js";const O={class:"p-4"},Q={class:"flex flex-col md:flex-row justify-between items-center mb-4 space-y-4 md:space-y-0"},q={class:"flex flex-col md:flex-row space-y-4 md:space-y-0 md:space-x-4 w-full md:w-auto"},G=["value"],J={class:"relative"},P={class:"overflow-x-auto"},R={class:"min-w-full border bg-white rounded-lg shadow-md"},W={class:"px-4 py-2"},X={class:"px-4 py-2"},Y={class:"px-4 py-2"},Z={class:"px-4 py-2 text-center"},ee={key:0,class:"px-2 py-1 text-green-700 bg-green-200 rounded-full text-sm"},te={key:1,class:"px-2 py-1 text-red-700 bg-red-200 rounded-full text-sm"},se={class:"px-4 py-2 text-center"},le={class:"mb-4"},oe=["value"],ae={class:"mb-4"},de={class:"flex items-center"},ne={class:"flex justify-end mt-4"},_e={__name:"Index",props:{CarModel:Array,brand:Array},setup(N){const v=N,x=c(!1),m=c(!1),h=c(null),l=D({brand_id:"",name:"",is_active:!0}),f=c(""),b=c(""),U=L(()=>v.CarModel.filter(r=>{const e=f.value?r.brand_id===f.value:!0,s=r.name.toLowerCase().includes(b.value.toLowerCase());return e&&s})),M=(r,e=null)=>{m.value=r==="edit",x.value=!0,m.value&&e?(h.value=e.id,l.brand_id=e.brand_id,l.name=e.name,l.is_active=!!e.is_active):C()},C=()=>{l.brand_id="",l.name="",l.is_active=!0},_=()=>{x.value=!1,C()},T=()=>{m.value?l.put(route("model.update",h.value),{onSuccess:()=>_()}):l.post(route("model.store"),{onSuccess:()=>_()})},j=r=>{confirm("Apakah Anda yakin ingin menghapus data ini?")&&H.delete(route("model.destroy",r))};return(r,e)=>(d(),a("div",O,[t("div",Q,[o(g,{onClick:e[0]||(e[0]=s=>M("create"))},{default:i(()=>e[6]||(e[6]=[p("Tambah Model")])),_:1}),t("div",q,[y(t("select",{"onUpdate:modelValue":e[1]||(e[1]=s=>f.value=s),class:"border rounded px-4 py-2 w-full md:w-48"},[e[7]||(e[7]=t("option",{value:""},"Semua Merek",-1)),(d(!0),a(k,null,w(v.brand,s=>(d(),a("option",{key:s.id,value:s.id},u(s.name),9,G))),128))],512),[[V,f.value]]),t("div",J,[o($,{modelValue:b.value,"onUpdate:modelValue":e[2]||(e[2]=s=>b.value=s),placeholder:"Cari Model...",class:"w-full md:w-48 pl-10 pr-4 py-2 border"},null,8,["modelValue"]),e[8]||(e[8]=t("svg",{class:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-4.35-4.35m0 0A8.5 8.5 0 1010.5 19a8.5 8.5 0 006.15-2.85z"})],-1))])])]),t("div",P,[t("table",R,[e[11]||(e[11]=t("thead",{class:"bg-gray-200"},[t("tr",null,[t("th",{class:"px-4 py-2 text-left"},"No"),t("th",{class:"px-4 py-2 text-left"},"Kategori"),t("th",{class:"px-4 py-2 text-left"},"Nama"),t("th",{class:"px-4 py-2 text-center"},"Status"),t("th",{class:"px-4 py-2 text-center"},"Aksi")])],-1)),t("tbody",null,[(d(!0),a(k,null,w(U.value,(s,E)=>(d(),a("tr",{key:s.id,class:"border-b hover:bg-gray-100"},[t("td",W,u(E+1),1),t("td",X,u(s.brand.name),1),t("td",Y,u(s.name),1),t("td",Z,[s.is_active?(d(),a("span",ee,"Aktif")):(d(),a("span",te,"Tidak Aktif"))]),t("td",se,[o(A,{onClick:F=>M("edit",s)},{default:i(()=>e[9]||(e[9]=[p("Edit")])),_:2},1032,["onClick"]),o(g,{class:"ml-2 bg-red-600 hover:bg-red-700",onClick:F=>j(s.id)},{default:i(()=>e[10]||(e[10]=[p("Hapus")])),_:2},1032,["onClick"])])]))),128))])])]),o(K,{show:x.value,title:m.value?"Edit Model":"Tambah Model",onClose:_},{content:i(()=>[t("form",{onSubmit:I(T,["prevent"])},[t("div",le,[o(S,{for:"brand_id",value:"Merek"}),y(t("select",{id:"brand_id","onUpdate:modelValue":e[3]||(e[3]=s=>n(l).brand_id=s),class:"block w-full border p-2 rounded"},[(d(!0),a(k,null,w(v.brand,s=>(d(),a("option",{key:s.id,value:s.id},u(s.name),9,oe))),128))],512),[[V,n(l).brand_id]]),o(B,{message:n(l).errors.brand_id},null,8,["message"])]),t("div",ae,[o(S,{for:"name",value:"Nama Model"}),o($,{id:"name",modelValue:n(l).name,"onUpdate:modelValue":e[4]||(e[4]=s=>n(l).name=s),class:"block w-full"},null,8,["modelValue"]),o(B,{message:n(l).errors.name},null,8,["message"])]),t("div",de,[y(t("input",{type:"checkbox",id:"is_active","onUpdate:modelValue":e[5]||(e[5]=s=>n(l).is_active=s),class:"mr-2"},null,512),[[z,n(l).is_active]]),e[12]||(e[12]=t("label",{for:"is_active"},"Aktif",-1))]),t("div",ne,[o(A,{type:"button",onClick:_},{default:i(()=>e[13]||(e[13]=[p("Batal")])),_:1}),o(g,{class:"ml-3",type:"submit"},{default:i(()=>[p(u(m.value?"Update":"Simpan"),1)]),_:1})])],32)]),_:1},8,["show","title"])]))}};export{_e as default};
