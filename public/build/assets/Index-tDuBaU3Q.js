import{r as c,T as M,j as B,d as l,o as a,a as e,b as n,w as p,f as m,k as f,y as k,F as h,g as w,h as O,u as i,t as r,v as E,N as j}from"./app-C1DIM2cv.js";import{_ as I}from"./PrimaryButton-VzeJJgU6.js";import{_ as A}from"./SecondaryButton-CBDW87F_.js";import{_ as y}from"./InputLabel-g4wOq1Oq.js";import{_ as V}from"./TextInput-C0FjwiIR.js";import{_ as K}from"./CustomModal-ByvVuZww.js";const L={class:"p-4"},q={class:"flex justify-between items-center mb-4"},H={class:"flex space-x-4"},Q=["value"],z={class:"overflow-x-auto"},G={class:"min-w-full border bg-white rounded-lg shadow-md"},J={class:"px-4 py-2"},R={class:"px-4 py-2"},W={class:"px-4 py-2"},X={class:"px-4 py-2"},Y={class:"px-4 py-2 text-center"},Z={key:0,class:"px-2 py-1 text-green-700 bg-green-200 rounded-full text-sm"},ee={key:1,class:"px-2 py-1 text-red-700 bg-red-200 rounded-full text-sm"},te={class:"px-4 py-2 text-center"},oe={class:"mb-4"},se=["value"],ne={class:"mb-4"},ie={class:"mb-4"},le={class:"mb-4"},ae={class:"flex items-center"},de={class:"flex justify-end mt-4"},_e={__name:"Index",props:{inspectionPoints:Array,categories:Array},setup(N){const x=N,b=c(!1),u=c(!1),C=c(null),s=M({categories_id:"",name:"",description:"",type_input:"",is_active:!0}),v=c(""),g=c(""),F=B(()=>x.inspectionPoints.filter(d=>{const t=v.value?d.categories_id===v.value:!0,o=d.name.toLowerCase().includes(g.value.toLowerCase());return t&&o})),S=(d,t=null)=>{u.value=d==="edit",b.value=!0,u.value&&t?(C.value=t.id,s.categories_id=t.categories_id,s.name=t.name,s.description=t.description,s.type_input=t.type_input,s.is_active=!!t.is_active):T()},T=()=>{s.categories_id="",s.name="",s.description="",s.type_input="",s.is_active=!0},_=()=>{b.value=!1,T()},P=()=>{u.value?s.put(route("inspection-points.update",C.value),{onSuccess:()=>_()}):s.post(route("inspection-points.store"),{onSuccess:()=>_()})},U=d=>{confirm("Apakah Anda yakin ingin menghapus data ini?")&&j.delete(route("inspection-points.destroy",d))};return(d,t)=>(a(),l("div",L,[e("div",q,[n(I,{onClick:t[0]||(t[0]=o=>S("create"))},{default:p(()=>t[8]||(t[8]=[m("Tambah Inspection Point")])),_:1}),e("div",H,[f(e("select",{"onUpdate:modelValue":t[1]||(t[1]=o=>v.value=o),class:"border rounded px-7 py-2"},[t[9]||(t[9]=e("option",{value:""},"Semua Kategori",-1)),(a(!0),l(h,null,w(x.categories,o=>(a(),l("option",{key:o.id,value:o.id},r(o.name),9,Q))),128))],512),[[k,v.value]]),n(V,{modelValue:g.value,"onUpdate:modelValue":t[2]||(t[2]=o=>g.value=o),placeholder:"Cari Inspection Point..."},null,8,["modelValue"])])]),e("div",z,[e("table",G,[t[12]||(t[12]=e("thead",{class:"bg-gray-200"},[e("tr",null,[e("th",{class:"px-4 py-2 text-left"},"No"),e("th",{class:"px-4 py-2 text-left"},"Kategori"),e("th",{class:"px-4 py-2 text-left"},"Nama"),e("th",{class:"px-4 py-2 text-left"},"Tipe Input"),e("th",{class:"px-4 py-2 text-center"},"Status"),e("th",{class:"px-4 py-2 text-center"},"Aksi")])],-1)),e("tbody",null,[(a(!0),l(h,null,w(F.value,(o,$)=>(a(),l("tr",{key:o.id,class:"border-b hover:bg-gray-100"},[e("td",J,r($+1),1),e("td",R,r(o.category.name),1),e("td",W,r(o.name),1),e("td",X,r(o.type_input),1),e("td",Y,[o.is_active?(a(),l("span",Z,"Aktif")):(a(),l("span",ee,"Tidak Aktif"))]),e("td",te,[n(A,{onClick:D=>S("edit",o)},{default:p(()=>t[10]||(t[10]=[m("Edit")])),_:2},1032,["onClick"]),n(I,{class:"ml-2 bg-red-600 hover:bg-red-700",onClick:D=>U(o.id)},{default:p(()=>t[11]||(t[11]=[m("Hapus")])),_:2},1032,["onClick"])])]))),128))])])]),n(K,{show:b.value,title:u.value?"Edit Inspection Point":"Tambah Inspection Point",onClose:_},{content:p(()=>[e("form",{onSubmit:O(P,["prevent"])},[e("div",oe,[n(y,{for:"categories_id",value:"Kategori"}),f(e("select",{id:"categories_id","onUpdate:modelValue":t[3]||(t[3]=o=>i(s).categories_id=o),class:"block w-full border p-2 rounded"},[(a(!0),l(h,null,w(x.categories,o=>(a(),l("option",{key:o.id,value:o.id},r(o.name),9,se))),128))],512),[[k,i(s).categories_id]])]),e("div",ne,[n(y,{for:"name",value:"Nama Inspection"}),n(V,{id:"name",modelValue:i(s).name,"onUpdate:modelValue":t[4]||(t[4]=o=>i(s).name=o),class:"block w-full",required:""},null,8,["modelValue"])]),e("div",ie,[n(y,{for:"description",value:"Deskripsi"}),n(V,{id:"description",modelValue:i(s).description,"onUpdate:modelValue":t[5]||(t[5]=o=>i(s).description=o),class:"block w-full"},null,8,["modelValue"])]),e("div",le,[n(y,{for:"type_input",value:"Tipe Input"}),f(e("select",{id:"type_input","onUpdate:modelValue":t[6]||(t[6]=o=>i(s).type_input=o),class:"block w-full border p-2 rounded",required:""},t[13]||(t[13]=[e("option",{value:""},"--Pilih Tipe Input--",-1),e("option",{value:"Input Text"},"Input Text",-1),e("option",{value:"Input Number"},"Input Number",-1),e("option",{value:"Input Account"},"Input Account",-1),e("option",{value:"Tanggal"},"Tanggal",-1),e("option",{value:"Foto"},"Foto",-1),e("option",{value:"Set"},"Set",-1),e("option",{value:"Damage"},"Damage",-1),e("option",{value:"Select"},"Select",-1),e("option",{value:"Option"},"Option",-1),e("option",{value:"Option to Foto"},"Option to Foto",-1)]),512),[[k,i(s).type_input]])]),e("div",ae,[f(e("input",{type:"checkbox",id:"is_active","onUpdate:modelValue":t[7]||(t[7]=o=>i(s).is_active=o),class:"mr-2"},null,512),[[E,i(s).is_active]]),t[14]||(t[14]=e("label",{for:"is_active"},"Aktif",-1))]),e("div",de,[n(A,{type:"button",onClick:_},{default:p(()=>t[15]||(t[15]=[m("Batal")])),_:1}),n(I,{class:"ml-3",type:"submit"},{default:p(()=>[m(r(u.value?"Update":"Simpan"),1)]),_:1})])],32)]),_:1},8,["show","title"])]))}};export{_e as default};
