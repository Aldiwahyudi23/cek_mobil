import{d as s,e as u,o as n,a,f as C,s as A,b as I,F as _,g as w,Q as B,r as c,x as N,n as h,t as b,k as g,y}from"./app-UAvoeLUi.js";import{_ as D}from"./_plugin-vue_export-helper-DlAUqK2U.js";const P={props:["isVisible"],emits:["close","camera","gallery"],methods:{closeModal(){this.$emit("close")},selectCamera(){this.$emit("camera")},selectGallery(){this.$emit("gallery")}}},z={key:0,class:"fixed inset-0 flex items-end justify-center bg-black bg-opacity-50"},O={class:"bg-white p-4 rounded-t-lg w-full max-w-md"},j={class:"flex justify-between"};function E(m,l,f,t,p,i){return f.isVisible?(n(),s("div",z,[a("div",O,[a("div",j,[a("button",{onClick:l[0]||(l[0]=(...r)=>i.selectCamera&&i.selectCamera(...r)),class:"flex items-center gap-2 border px-4 py-2 rounded-lg"},l[3]||(l[3]=[a("i",{class:"fas fa-camera"},null,-1),C(" Kamera ")])),a("button",{onClick:l[1]||(l[1]=(...r)=>i.selectGallery&&i.selectGallery(...r)),class:"flex items-center gap-2 border px-4 py-2 rounded-lg"},l[4]||(l[4]=[a("i",{class:"fas fa-image"},null,-1),C(" Galeri ")]))]),a("button",{onClick:l[2]||(l[2]=(...r)=>i.closeModal&&i.closeModal(...r)),class:"absolute top-2 right-2 text-lg"},"Ã—")])])):u("",!0)}const K=D(P,[["render",E]]),L={setup(){const m=B(),l=c(m.props.categories),f=c(0),t=c(l.value.length?l.value[0].inspection_points:[]),p=c({}),i=c({}),r=c(null),e=c(!1),o=c(null),x=(d,v)=>{f.value=v,t.value=d.inspection_points.filter(U=>U.is_active),M(),k()},M=()=>{p.value={},t.value.forEach(d=>{p.value[d.id]=""})},k=()=>{if(r.value){const d=r.value.children[f.value];d&&r.value.scrollTo({left:d.offsetLeft-r.value.offsetWidth/2+d.offsetWidth/2,behavior:"smooth"})}},V=(d,v)=>{p.value[d]=v},F=d=>{o.value=d,e.value=!0},T=()=>{e.value=!1,console.log("Membuka Kamera...")},G=()=>{e.value=!1,console.log("Membuka Galeri...")};return N(()=>{k()}),{categories:l,activeTab:f,inspectionPoints:t,formData:p,selectCategory:x,filledCounts:i,categoryContainer:r,showModal:e,selectedFilePoint:o,toggleOption:V,openModal:F,openCamera:T,openGallery:G}},components:{FileModal:K},methods:{formatCurrency(m){let l=this.formData[m].replace(/\D/g,"");l=l.replace(/\B(?=(\d{3})+(?!\d))/g,"."),this.formData[m]=l}}},S={class:"bg-white min-h-screen"},W={class:"overflow-x-auto whitespace-nowrap bg-gray-100 border-b flex scrollbar-hide fixed top-12 left-0 w-full z-40",ref:"categoryContainer"},J=["onClick"],Q={class:"p-4 mt-20"},q={key:0},H={class:"block text-sm font-medium"},R=["onUpdate:modelValue","placeholder","onInput"],X=["onUpdate:modelValue","placeholder"],Y=["onUpdate:modelValue","onInput","placeholder"],Z=["onUpdate:modelValue"],$={key:4,class:"mt-2 flex justify-center gap-4"},ee=["onClick"],te=["onClick"],le={key:5},oe=["src"],ae={key:1,class:"upload-placeholder"};function se(m,l,f,t,p,i){const r=A("FileModal");return n(),s(_,null,[a("div",S,[l[4]||(l[4]=a("div",{class:"bg-blue-600 text-white text-center py-4 font-bold text-lg fixed top-0 left-0 w-full z-50"}," Inspeksi Mobil ",-1)),a("div",W,[(n(!0),s(_,null,w(t.categories,(e,o)=>(n(),s("button",{key:e.id,onClick:x=>t.selectCategory(e,o),class:h(["flex-shrink-0 px-4 py-3 border-b-2",t.activeTab===o?"border-blue-600 text-blue-600 font-bold":"border-transparent text-gray-500"])},b(e.name)+" ("+b(t.filledCounts[e.id]||0)+"/"+b(e.inspection_points.length)+") ",11,J))),128))],512),a("div",Q,[t.inspectionPoints.length?(n(),s("div",q,[(n(!0),s(_,null,w(t.inspectionPoints,e=>(n(),s("div",{key:e.id,class:"mt-4"},[a("label",H,b(e.name),1),e.type_input==="Input Text"?g((n(),s("input",{key:0,type:"text","onUpdate:modelValue":o=>t.formData[e.id]=o,class:"w-full border px-3 py-2 rounded-lg mt-1",placeholder:e.placeholder,onInput:o=>t.formData[e.id]=o.target.value.toUpperCase()},null,40,R)),[[y,t.formData[e.id]]]):u("",!0),e.type_input==="Input Number"?g((n(),s("input",{key:1,type:"number","onUpdate:modelValue":o=>t.formData[e.id]=o,class:"w-full border px-3 py-2 rounded-lg mt-1",placeholder:e.placeholder},null,8,X)),[[y,t.formData[e.id]]]):u("",!0),e.type_input==="Input Account"?g((n(),s("input",{key:2,type:"text","onUpdate:modelValue":o=>t.formData[e.id]=o,onInput:o=>i.formatCurrency(e.id),class:"w-full border px-3 py-2 rounded-lg mt-1",placeholder:e.placeholder},null,40,Y)),[[y,t.formData[e.id]]]):u("",!0),e.type_input==="Tanggal"?g((n(),s("input",{key:3,type:"date","onUpdate:modelValue":o=>t.formData[e.id]=o,class:"w-full border px-3 py-2 rounded-lg mt-1"},null,8,Z)),[[y,t.formData[e.id]]]):u("",!0),e.type_input==="Option to Foto"?(n(),s("div",$,[a("button",{onClick:o=>t.toggleOption(e.id,"Ada"),class:h([{"bg-blue-500 text-white":t.formData[e.id]==="Ada"},"border px-4 py-2 rounded-lg"])},"Ada",10,ee),a("button",{onClick:o=>t.toggleOption(e.id,"Tidak Ada"),class:h([{"bg-blue-500 text-white":t.formData[e.id]==="Tidak Ada"},"border px-4 py-2 rounded-lg"])},"Tidak Ada",10,te)])):u("",!0),e.type_input==="Foto"||t.formData[e.id]==="Ada"?(n(),s("div",le,[l[3]||(l[3]=a("p",{class:"text-xs text-gray-500"},"File JPG berukuran maks 2,5 MB",-1)),a("div",{class:"photo-upload",onClick:l[0]||(l[0]=o=>t.openModal(m.index))},[e.file?(n(),s("img",{key:0,src:e.file,alt:"Foto",class:"photo-preview"},null,8,oe)):(n(),s("div",ae,l[2]||(l[2]=[a("i",{class:"icon-upload"},null,-1),a("p",null,"Upload Foto",-1)])))])])):u("",!0)]))),128))])):u("",!0)])]),I(r,{isVisible:t.showModal,onClose:l[1]||(l[1]=e=>t.showModal=!1),onCamera:t.openCamera,onGallery:t.openGallery},null,8,["isVisible","onCamera","onGallery"])],64)}const de=D(L,[["render",se],["__scopeId","data-v-2033547f"]]);export{de as default};
