import{y as S,Q as A,r as g,T as N,d as c,o as p,b as a,a as s,w as r,f as u,F as B,g as D,h as F,u as l,k as M,v as T,t as f}from"./app-DvrCA7Kb.js";import{_ as E}from"./CustomModal-gJDe-wA_.js";import{_ as x}from"./PrimaryButton-DHz3uHSE.js";import{_ as b}from"./SecondaryButton-CRw5n26K.js";import{_ as k}from"./InputLabel-DGnTa_So.js";import{_ as y}from"./TextInput-Bg4BdDgo.js";import{_ as h}from"./InputError-B9Vt4gLv.js";const K={class:"p-4"},U={class:"mt-4 overflow-x-auto"},I={class:"min-w-full border bg-white rounded-lg shadow-md"},j={class:"px-4 py-2"},q={class:"px-4 py-2"},H={class:"px-4 py-2"},L={class:"px-4 py-2 text-center"},O={key:0,class:"px-2 py-1 text-green-700 bg-green-200 rounded-full text-sm"},Q={key:1,class:"px-2 py-1 text-red-700 bg-red-200 rounded-full text-sm"},z={class:"px-4 py-2 text-center"},G={class:"mb-4"},J={class:"mb-4"},P={class:"flex items-center"},R={class:"flex justify-end mt-4"},ie={__name:"Index",setup(W){const n=S([...A().props.categories]),_=g(!1),d=g(!1),t=N({...{id:"",name:"",description:"",is_active:!1}}),v=(i,e=null)=>{d.value=i==="edit",d.value&&e?(t.id=e.id,t.name=e.name,t.description=e.description,t.is_active=!!e.is_active):t.reset(),_.value=!0},m=()=>{t.reset(),_.value=!1},w=()=>{d.value?t.put(route("categories.update",t.id),{onSuccess:()=>{const i=n.findIndex(e=>e.id===t.id);i!==-1&&(n[i]={...t.data()}),m()}}):t.post(route("categories.store"),{onSuccess:i=>{n.unshift(i.props.categories[0]),m()}})},V=i=>{confirm("Apakah Anda yakin ingin menghapus kategori ini?")&&t.delete(route("categories.destroy",i),{onSuccess:()=>{const e=n.findIndex(o=>o.id===i);e!==-1&&n.splice(e,1)}})};return(i,e)=>(p(),c("div",K,[a(x,{onClick:e[0]||(e[0]=o=>v("create"))},{default:r(()=>e[4]||(e[4]=[u("Tambah Kategori")])),_:1}),s("div",U,[s("table",I,[e[7]||(e[7]=s("thead",{class:"bg-gray-200"},[s("tr",null,[s("th",{class:"px-4 py-2 text-left"},"No"),s("th",{class:"px-4 py-2 text-left"},"Nama"),s("th",{class:"px-4 py-2 text-left"},"Deskripsi"),s("th",{class:"px-4 py-2 text-center"},"Status"),s("th",{class:"px-4 py-2 text-center"},"Aksi")])],-1)),s("tbody",null,[(p(!0),c(B,null,D(n,(o,C)=>(p(),c("tr",{key:o.id,class:"border-b hover:bg-gray-100"},[s("td",j,f(C+1),1),s("td",q,f(o.name),1),s("td",H,f(o.description||"-"),1),s("td",L,[o.is_active?(p(),c("span",O,"Aktif")):(p(),c("span",Q,"Tidak Aktif"))]),s("td",z,[a(b,{onClick:$=>v("edit",o)},{default:r(()=>e[5]||(e[5]=[u("Edit")])),_:2},1032,["onClick"]),a(x,{class:"ml-2 bg-red-600 hover:bg-red-700",onClick:$=>V(o.id)},{default:r(()=>e[6]||(e[6]=[u("Hapus")])),_:2},1032,["onClick"])])]))),128))])])]),a(E,{show:_.value,title:d.value?"Edit Kategori":"Tambah Kategori",onClose:m},{content:r(()=>[s("form",{onSubmit:F(w,["prevent"])},[s("div",G,[a(k,{for:"name",value:"Nama Kategori"}),a(y,{id:"name",modelValue:l(t).name,"onUpdate:modelValue":e[1]||(e[1]=o=>l(t).name=o),class:"block w-full",required:""},null,8,["modelValue"]),a(h,{message:l(t).errors.name},null,8,["message"])]),s("div",J,[a(k,{for:"description",value:"Deskripsi"}),a(y,{id:"description",modelValue:l(t).description,"onUpdate:modelValue":e[2]||(e[2]=o=>l(t).description=o),class:"block w-full"},null,8,["modelValue"]),a(h,{message:l(t).errors.description},null,8,["message"])]),s("div",P,[M(s("input",{type:"checkbox",id:"is_active","onUpdate:modelValue":e[3]||(e[3]=o=>l(t).is_active=o),class:"mr-2"},null,512),[[T,l(t).is_active]]),e[8]||(e[8]=s("label",{for:"is_active"},"Aktif",-1))]),s("div",R,[a(b,{type:"button",onClick:m},{default:r(()=>e[9]||(e[9]=[u("Batal")])),_:1}),a(x,{class:"ml-3",type:"submit"},{default:r(()=>[u(f(d.value?"Update":"Simpan"),1)]),_:1})])],32)]),_:1},8,["show","title"])]))}};export{ie as default};
