import{r as i,T as F,j as S,d as b,o as v,a,b as t,w as r,f as d,F as A,g as M,h as U,u as m,t as _,N as c}from"./app-DE5iW-zt.js";import{_ as h}from"./PrimaryButton-C5A_b8zd.js";import{_ as x}from"./SecondaryButton-a_C0-x8w.js";import{_ as j}from"./InputLabel-CBUKSUPl.js";import{_ as B}from"./TextInput-DjM9czBB.js";import{_ as D}from"./InputError-C58XQGz-.js";import{_ as I}from"./CustomModal-Cflpug2n.js";const L={class:"p-4"},z={class:"flex flex-col md:flex-row justify-between items-center mb-4 space-y-4 md:space-y-0"},H={class:"relative"},O={class:"overflow-x-auto"},Q={class:"min-w-full border bg-white rounded-lg shadow-md"},q={class:"px-4 py-2"},G={class:"px-4 py-2"},J={class:"px-4 py-2 text-center"},K={class:"mb-4"},P={class:"flex justify-end mt-4"},se={__name:"Index",props:{fuelTypes:{type:Array,default:()=>[]}},setup(C){const g=C,p=i(!1),n=i(!1),f=i(null),s=F({name:""}),y=i(""),E=S(()=>g.fuelTypes?g.fuelTypes.filter(o=>o.name.toLowerCase().includes(y.value.toLowerCase())):[]),k=(o,e=null)=>{n.value=o==="edit",p.value=!0,n.value&&e?(f.value=e.id,s.name=e.name):w()},w=()=>{s.reset(),s.clearErrors()},u=()=>{p.value=!1,w()},T=()=>{console.log("Form submitted:",s),n.value?(console.log("Updating data with ID:",f.value),s.put(route("bahan-bakar.update",f.value),{onSuccess:()=>{console.log("Update successful"),u(),c.reload({only:["fuelTypes"]})},onError:o=>{console.error("Error saat update:",o)}})):(console.log("Creating new data"),s.post(route("bahan-bakar.store"),{onSuccess:()=>{console.log("Create successful"),u(),c.reload({only:["fuelTypes"]})},onError:o=>{console.error("Error saat tambah:",o)}}))},V=o=>{confirm("Apakah Anda yakin ingin menghapus data ini?")&&c.delete(route("bahan-bakar.destroy",o),{onSuccess:()=>{c.reload({only:["fuelTypes"]})},onError:e=>{console.error("Error saat hapus:",e)}})};return(o,e)=>(v(),b("div",L,[a("div",z,[t(h,{onClick:e[0]||(e[0]=l=>k("create"))},{default:r(()=>e[3]||(e[3]=[d("Tambah Bahan Bakar")])),_:1}),a("div",H,[t(B,{modelValue:y.value,"onUpdate:modelValue":e[1]||(e[1]=l=>y.value=l),placeholder:"Cari Bahan Bakar...",class:"pl-10 pr-4 py-2 border rounded-md w-64"},null,8,["modelValue"]),e[4]||(e[4]=a("svg",{class:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-4.35-4.35m0 0A8.5 8.5 0 1010.5 19a8.5 8.5 0 006.15-2.85z"})],-1))])]),a("div",O,[a("table",Q,[e[7]||(e[7]=a("thead",{class:"bg-gray-200"},[a("tr",null,[a("th",{class:"px-4 py-2 text-left"},"No"),a("th",{class:"px-4 py-2 text-left"},"Nama Bahan Bakar"),a("th",{class:"px-4 py-2 text-center"},"Aksi")])],-1)),a("tbody",null,[(v(!0),b(A,null,M(E.value,(l,$)=>(v(),b("tr",{key:l.id,class:"border-b hover:bg-gray-100"},[a("td",q,_($+1),1),a("td",G,_(l.name),1),a("td",J,[t(x,{onClick:N=>k("edit",l)},{default:r(()=>e[5]||(e[5]=[d("Edit")])),_:2},1032,["onClick"]),t(h,{class:"ml-2 bg-red-600 hover:bg-red-700",onClick:N=>V(l.id)},{default:r(()=>e[6]||(e[6]=[d("Hapus")])),_:2},1032,["onClick"])])]))),128))])])]),t(I,{show:p.value,title:n.value?"Edit Bahan Bakar":"Tambah Bahan Bakar",onClose:u},{content:r(()=>[a("form",{onSubmit:U(T,["prevent"])},[a("div",K,[t(j,{for:"name",value:"Nama Bahan Bakar"}),t(B,{id:"name",modelValue:m(s).name,"onUpdate:modelValue":e[2]||(e[2]=l=>m(s).name=l),type:"text",class:"block w-full"},null,8,["modelValue"]),t(D,{message:m(s).errors.name},null,8,["message"])]),a("div",P,[t(x,{type:"button",onClick:u},{default:r(()=>e[8]||(e[8]=[d("Batal")])),_:1}),t(h,{class:"ml-3",type:"submit",disabled:m(s).processing},{default:r(()=>[d(_(n.value?"Update":"Simpan"),1)]),_:1},8,["disabled"])])],32)]),_:1},8,["show","title"])]))}};export{se as default};
