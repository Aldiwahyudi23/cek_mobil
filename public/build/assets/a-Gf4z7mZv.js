import{s as D,d as a,o as n,a as d,b as w,F as v,g as x,e as i,Q as F,r as c,n as y,t as m,k as f,x as _}from"./app-DvrCA7Kb.js";import{F as U}from"./FileModal-Bb7n74FL.js";import{_ as V}from"./_plugin-vue_export-helper-DlAUqK2U.js";const M={setup(){const r=F(),l=c(r.props.categories),h=c(0),o=c(l.value.length?l.value[0].inspection_points:[]),p=c({}),b=c({}),u=c(!1),e=c(null);return{categories:l,activeTab:h,inspectionPoints:o,formData:p,selectCategory:(s,g)=>{h.value=g,o.value=s.inspection_points.filter(C=>C.is_active)},filledCounts:b,showModal:u,selectedFilePoint:e,toggleOption:(s,g)=>{p.value[s]=g},openModal:s=>{e.value=s,u.value=!0},handleFileUpload:s=>{e.value!==null&&(p.value[e.value+"_file"]=s,u.value=!1)}}},components:{FileModal:U},methods:{formatCurrency(r){let l=this.formData[r].replace(/\D/g,"");l=l.replace(/\B(?=(\d{3})+(?!\d))/g,"."),this.formData[r]=l}}},A={class:"bg-white min-h-screen"},I={class:"overflow-x-auto whitespace-nowrap bg-gray-100 border-b flex scrollbar-hide fixed top-12 left-0 w-full z-40",ref:"categoryContainer"},T=["onClick"],B={class:"p-4 mt-20"},O={key:0},P={class:"block text-sm font-medium"},G=["onUpdate:modelValue","placeholder","onInput"],N=["onUpdate:modelValue","onInput","placeholder"],z=["onUpdate:modelValue","placeholder"],S=["onUpdate:modelValue"],j={key:4,class:"mt-2 flex justify-center gap-4"},E=["onClick"],J=["onClick"],L={key:5,class:"mt-3"},Q=["onClick"],q=["src"],H={key:1,class:"upload-placeholder flex flex-col items-center"};function K(r,l,h,o,p,b){const u=D("FileModal");return n(),a("div",A,[l[3]||(l[3]=d("div",{class:"bg-blue-600 text-white text-center py-4 font-bold text-lg fixed top-0 left-0 w-full z-50"}," Inspeksi Mobil ",-1)),d("div",I,[(n(!0),a(v,null,x(o.categories,(e,t)=>(n(),a("button",{key:e.id,onClick:k=>o.selectCategory(e,t),class:y(["flex-shrink-0 px-4 py-3 border-b-2",o.activeTab===t?"border-blue-600 text-blue-600 font-bold":"border-transparent text-gray-500"])},m(e.name)+" ("+m(o.filledCounts[e.id]||0)+"/"+m(e.inspection_points.length)+") ",11,T))),128))],512),d("div",B,[o.inspectionPoints.length?(n(),a("div",O,[(n(!0),a(v,null,x(o.inspectionPoints,e=>(n(),a("div",{key:e.id,class:"mt-4"},[d("label",P,m(e.name),1),e.type_input==="Input Text"?f((n(),a("input",{key:0,type:"text","onUpdate:modelValue":t=>o.formData[e.id]=t,class:"w-full border px-3 py-2 rounded-lg mt-1",placeholder:e.placeholder,onInput:t=>o.formData[e.id]=t.target.value.toUpperCase()},null,40,G)),[[_,o.formData[e.id]]]):i("",!0),e.type_input==="Input Account"?f((n(),a("input",{key:1,type:"text","onUpdate:modelValue":t=>o.formData[e.id]=t,onInput:t=>b.formatCurrency(e.id),class:"w-full border px-3 py-2 rounded-lg mt-1",placeholder:e.placeholder},null,40,N)),[[_,o.formData[e.id]]]):i("",!0),e.type_input==="Input Number"?f((n(),a("input",{key:2,type:"number","onUpdate:modelValue":t=>o.formData[e.id]=t,class:"w-full border px-3 py-2 rounded-lg mt-1",placeholder:e.placeholder},null,8,z)),[[_,o.formData[e.id]]]):i("",!0),e.type_input==="Tanggal"?f((n(),a("input",{key:3,type:"date","onUpdate:modelValue":t=>o.formData[e.id]=t,class:"w-full border px-3 py-2 rounded-lg mt-1"},null,8,S)),[[_,o.formData[e.id]]]):i("",!0),e.type_input==="Option to Foto"?(n(),a("div",j,[d("button",{onClick:t=>o.toggleOption(e.id,"Ada"),class:y([{"bg-blue-500 text-white":o.formData[e.id]==="Ada"},"border px-4 py-2 rounded-lg"])},"Ada",10,E),d("button",{onClick:t=>o.toggleOption(e.id,"Tidak Ada"),class:y([{"bg-blue-500 text-white":o.formData[e.id]==="Tidak Ada"},"border px-4 py-2 rounded-lg"])},"Tidak Ada",10,J)])):i("",!0),e.type_input==="Foto"||o.formData[e.id]==="Ada"?(n(),a("div",L,[l[2]||(l[2]=d("p",{class:"text-gray-600 text-sm"},"File JPG berukuran maks 2,5 MB",-1)),d("div",{class:"photo-upload border rounded-xl p-3 text-center cursor-pointer",onClick:t=>o.openModal(e.id)},[o.formData[e.id+"_file"]?(n(),a("img",{key:0,src:o.formData[e.id+"_file"],alt:"Foto",class:"photo-preview rounded-xl"},null,8,q)):(n(),a("div",H,l[1]||(l[1]=[d("i",{class:"icon-upload text-gray-400 text-3xl mb-2"},null,-1),d("p",{class:"text-gray-500"},"Upload Foto",-1)])))],8,Q)])):i("",!0)]))),128))])):i("",!0)]),w(u,{isVisible:o.showModal,onClose:l[0]||(l[0]=e=>o.showModal=!1),onCamera:r.openCamera,onGallery:r.openGallery,onFileSelected:o.handleFileUpload},null,8,["isVisible","onCamera","onGallery","onFileSelected"])])}const $=V(M,[["render",K],["__scopeId","data-v-d644b72a"]]);export{$ as default};
