import{z as B,Q as S,r as x,j as N,T as D,d as u,o as p,a as s,b as a,w as r,f as c,F,g as T,h as U,u as n,k as j,v as E,t as f}from"./app-DE5iW-zt.js";import{_ as I}from"./CustomModal-Cflpug2n.js";import{_ as b}from"./PrimaryButton-C5A_b8zd.js";import{_ as g}from"./SecondaryButton-a_C0-x8w.js";import{_ as w}from"./InputLabel-CBUKSUPl.js";import{_ as k}from"./TextInput-DjM9czBB.js";import{_ as h}from"./InputError-C58XQGz-.js";const K={class:"p-4"},L={class:"flex flex-col md:flex-row justify-between items-center mb-4 space-y-4 md:space-y-0"},z={class:"relative"},Q={class:"overflow-x-auto"},H={class:"min-w-full border bg-white rounded-lg shadow-md"},O={class:"px-4 py-2"},q={class:"px-4 py-2"},G={class:"px-4 py-2"},J={class:"px-4 py-2 text-center"},P={key:0,class:"px-2 py-1 text-green-700 bg-green-200 rounded-full text-sm"},R={key:1,class:"px-2 py-1 text-red-700 bg-red-200 rounded-full text-sm"},W={class:"px-4 py-2 text-center"},X={class:"mb-4"},Y={class:"mb-4"},Z={class:"flex items-center"},ee={class:"flex justify-end mt-4"},ue={__name:"Index",setup(se){const i=B([...S().props.brand]),_=x(!1),d=x(!1),v=x(""),C=N(()=>i.filter(l=>l.name.toLowerCase().includes(v.value.toLowerCase()))),t=D({...{id:"",name:"",description:"",is_active:!1}}),y=(l,e=null)=>{d.value=l==="edit",d.value&&e?(t.id=e.id,t.name=e.name,t.description=e.description,t.is_active=!!e.is_active):t.reset(),_.value=!0},m=()=>{t.reset(),_.value=!1},V=()=>{d.value?t.put(route("brand.update",t.id),{onSuccess:()=>{const l=i.findIndex(e=>e.id===t.id);l!==-1&&(i[l]={...t.data()}),m()}}):t.post(route("brand.store"),{onSuccess:l=>{i.unshift(l.props.brand[0]),m()}})},$=l=>{confirm("Apakah Anda yakin ingin menghapus kategori ini?")&&t.delete(route("brand.destroy",l),{onSuccess:()=>{const e=i.findIndex(o=>o.id===l);e!==-1&&i.splice(e,1)}})};return(l,e)=>(p(),u("div",K,[s("div",L,[a(b,{onClick:e[0]||(e[0]=o=>y("create"))},{default:r(()=>e[5]||(e[5]=[c("Tambah Merk")])),_:1}),s("div",z,[a(k,{modelValue:v.value,"onUpdate:modelValue":e[1]||(e[1]=o=>v.value=o),placeholder:"Cari Merk...",class:"pl-10 pr-4 py-2 border rounded-md w-64"},null,8,["modelValue"]),e[6]||(e[6]=s("svg",{class:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-4.35-4.35m0 0A8.5 8.5 0 1010.5 19a8.5 8.5 0 006.15-2.85z"})],-1))])]),s("div",Q,[s("table",H,[e[9]||(e[9]=s("thead",{class:"bg-gray-200"},[s("tr",null,[s("th",{class:"px-4 py-2 text-left"},"No"),s("th",{class:"px-4 py-2 text-left"},"Nama"),s("th",{class:"px-4 py-2 text-left"},"Deskripsi"),s("th",{class:"px-4 py-2 text-center"},"Status"),s("th",{class:"px-4 py-2 text-center"},"Aksi")])],-1)),s("tbody",null,[(p(!0),u(F,null,T(C.value,(o,M)=>(p(),u("tr",{key:o.id,class:"border-b hover:bg-gray-100"},[s("td",O,f(M+1),1),s("td",q,f(o.name),1),s("td",G,f(o.description||"-"),1),s("td",J,[o.is_active?(p(),u("span",P,"Aktif")):(p(),u("span",R,"Tidak Aktif"))]),s("td",W,[a(g,{onClick:A=>y("edit",o)},{default:r(()=>e[7]||(e[7]=[c("Edit")])),_:2},1032,["onClick"]),a(b,{class:"ml-2 bg-red-600 hover:bg-red-700",onClick:A=>$(o.id)},{default:r(()=>e[8]||(e[8]=[c("Hapus")])),_:2},1032,["onClick"])])]))),128))])])]),a(I,{show:_.value,title:d.value?"Edit Kategori":"Tambah Kategori",onClose:m},{content:r(()=>[s("form",{onSubmit:U(V,["prevent"])},[s("div",X,[a(w,{for:"name",value:"Nama Kategori"}),a(k,{id:"name",modelValue:n(t).name,"onUpdate:modelValue":e[2]||(e[2]=o=>n(t).name=o),class:"block w-full"},null,8,["modelValue"]),a(h,{message:n(t).errors.name},null,8,["message"])]),s("div",Y,[a(w,{for:"description",value:"Deskripsi"}),a(k,{id:"description",modelValue:n(t).description,"onUpdate:modelValue":e[3]||(e[3]=o=>n(t).description=o),class:"block w-full"},null,8,["modelValue"]),a(h,{message:n(t).errors.description},null,8,["message"])]),s("div",Z,[j(s("input",{type:"checkbox",id:"is_active","onUpdate:modelValue":e[4]||(e[4]=o=>n(t).is_active=o),class:"mr-2"},null,512),[[E,n(t).is_active]]),e[10]||(e[10]=s("label",{for:"is_active"},"Aktif",-1))]),s("div",ee,[a(g,{type:"button",onClick:m},{default:r(()=>e[11]||(e[11]=[c("Batal")])),_:1}),a(b,{class:"ml-3",type:"submit"},{default:r(()=>[c(f(d.value?"Update":"Simpan"),1)]),_:1})])],32)]),_:1},8,["show","title"])]))}};export{ue as default};
